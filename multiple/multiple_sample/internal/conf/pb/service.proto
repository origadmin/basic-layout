syntax = "proto3";

package configs;

import "config/data/v1/data.proto"; // Updated import
import "config/middleware/v1/middleware.proto";
import "config/transport/v1/transport.proto";

// Corrected go_package to match buf.gen.yaml output with paths=source_relative
option go_package = "basic-layout/multiple/multiple_sample/internal/conf/pb;confpb";

// ServiceConfig is the configuration structure for the service.
// It uses the config service definitions for server and client configurations.
message ServiceConfig {
  // servers is a list of server endpoints that this service will expose.
  // A service can listen on multiple protocols simultaneously, e.g., both gRPC and HTTP.
  repeated config.transport.v1.Server servers = 2;

  // clients is a list of client configurations for services that this service depends on.
  // This list will be converted into a map in the application's bootstrap logic,
  // using the 'name' field from each Client message as the key.
  repeated config.transport.v1.Client clients = 3;

  // middlewares is a list of middleware configurations to be applied to the service.
  repeated config.middleware.v1.Middleware middlewares = 4;

  // Data configuration for the service.
  config.data.v1.Data data = 5;
}
